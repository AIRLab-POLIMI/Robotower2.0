<?xml version="1.0" ?>
<launch>
  <!-- params -->
  <param name="forest_file" value="$(find player_tracker)/config/trained_leg_detector_res=0.33.yaml" />
  <param name="scan_topic" value="/scan_obstacles" />
  <param name="fixed_frame" value="/map"/>
  <param name="scan_frequency" value="10"/>  
  
  <param name="leg_model" value="$(find player_tracker)/model/leg_distance-gmm.pkl" />
  
  <!-- run detect_leg_clusters -->  
  <node pkg="player_tracker" type="detect_leg_clusters" name="detect_leg_clusters" output="screen"/>
  
  <!-- run joint_player_tracker
  <node pkg="player_tracker" type="joint_leg_tracker.py" name="joint_leg_tracker" output="screen" /> -->

  <!-- run joint_player_tracker -->
  <node pkg="player_tracker" type="leg_distance.py" name="leg_distance" output="screen" respawn="true"/> 

  <!-- run joint_player_tracker -->
  <node pkg="player_tracker" type="detector.py" name="detector" output="screen" respawn="true"/> 

  <!-- run particle_filter 
  <node pkg="player_tracker" type="particle_filter" name="particle_filter" output="screen"/-->
 
   <!-- run local_occupancy_grid_mapping -->
  <node pkg="player_tracker" type="local_occupancy_grid_mapping" name="local_occupancy_grid_mapping" output="screen"/>

  <node pkg="player_tracker" type="random_sample_consensus" name="random_sample_consensus" output="screen"/>

  <node type="point_cloud_assembler" pkg="laser_assembler" name="cloud_assembler">
    <remap from="cloud" to="leg_cloud"/>
    <param name="max_clouds" type="int" value="400" />
    <param name="fixed_frame" type="string" value="odom" />
  </node>
  
  <!-- run rviz -->                
  <node pkg="rviz" type="rviz" name="rviz" />

  <!-- play rosbag -->  
  <node pkg="rosbag" type="play" name="player" output="screen" required="true" 
    args="--delay=4
    --clock 
    --rate=1.0
    -s 0
    
    /home/airlab/Documenti/bags/game/_2018-07-23-18-55-26.bag"/>
  <param name="use_sim_time" value="true" />
   
   
   <!-- 
    $(find player_tracker)/rosbags/experiments/-->
</launch>
